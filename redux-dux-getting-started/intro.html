<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Redux intro</title>
  <meta name="description" content="">

  <!-- URL CANONICAL -->
  <link rel="canonical" href="https://docs.2lach.com/">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext"
    rel="stylesheet">

  <!-- CSS WebSlides -->
  <link rel="stylesheet" type='text/css' media='all' href="static/css/webslides.css">

  <!-- Optional - CSS SVG Icons (Font Awesome) -->
  <link rel="stylesheet" type='text/css' media='all' href="static/css/svg-icons.css">

  <!-- FAVICONS -->
  <link rel="shortcut icon" sizes="16x16" href="static/images/favicons/favicon.png">
  <link rel="shortcut icon" sizes="32x32" href="static/images/favicons/favicon-32.png">
  <link rel="apple-touch-icon icon" sizes="76x76" href="static/images/favicons/favicon-76.png">
  <link rel="apple-touch-icon icon" sizes="120x120" href="static/images/favicons/favicon-120.png">
  <link rel="apple-touch-icon icon" sizes="152x152" href="static/images/favicons/favicon-152.png">
  <link rel="apple-touch-icon icon" sizes="180x180" href="static/images/favicons/favicon-180.png">
  <link rel="apple-touch-icon icon" sizes="192x192" href="static/images/favicons/favicon-192.png">

  <!-- Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#333333">

</head>

<body>

  <header role="banner">
    <nav role="navigation">
      <p class="logo"><a href="index.html" title="Redux-dux">Redux-dux</a></p>
      <ul>
        <li class="github">
          <a rel="external" href="https://github.com/webslides/webslides" title="Github">
            <svg class="fa-github">
              <use xlink:href="#fa-github"></use>
            </svg>
            <em>WebSlides</em>
          </a>
        </li>
        <li class="twitter">
          <a rel="external" href="https://twitter.com/webslides" title="Twitter">
            <svg class="fa-twitter">
              <use xlink:href="#fa-twitter"></use>
            </svg>
            <em>@WebSlides</em>
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <main role="main">
    <article id="webslides" class="vertical">

      <!-- Slide 1 -->
      <section class="bg-black">
        <span class="background dark" style="background-image:url('//cdn.2lach.com/wallpapers/concert.jpg')"></span>
        <div class="wrap aligncenter">
          <h1><strong>Redux</strong></h1>
          <p class="text-intro">
            <br>En introduction till Redux
          </p>
        </div>
      </section>

      <!-- Slide 2 -->
      <section>
        <div class="wrap size-50">
          <h3>Under denna föreläsning ska vi ta upp:</h3>
          <hr>
          <ol class="text-cols">
            <li><a target="_blank" href="#slide=3">Redux vad är det? och vad är det bra för?</a></li>
            <li><a target="_blank" href="#slide=4">Lära känna redux och dess delar</a></li>
            <li><a target="_blank" href="#slide=5">Vår första implementation</a></li>
            <li><a target="_blank" href="#slide=6">Skapa ett initalState</a></li>
            <li><a target="_blank" href="#slide=7">Dispatchers och Actions</a></li>
            <li><a target="_blank" href="#slide=8">Subscriptions</a></li>
           <!-- <li><a target="_blank" href="#slide=9">Integration med React (och redux devtools)</a></li>
            <li><a target="_blank" href="#slide=10">Counter projektet (React)</a></li>
            <li><a target="_blank" href="#slide=11">implementation av Redux i projeket</a></li>
            <li><a target="_blank" href="#slide=12">implementation av Redux dev tools</a></li>
            <li><a target="_blank" href="#slide=13">Refactor av React till Redux</a></li>
            <li><a target="_blank" href="#slide=14">Använda värden från dispatchen</a></li>
            <li><a target="_blank" href="#slide=15">Öka läsbarhet i reducern</a></li>
            <li><a target="_blank" href="#slide=16">Visa resultatlista från redux-store</a></li>
            <li><a target="_blank" href="#slide=17">Ta bort resultat från resultatlista</a></li>
            -->
          </ol>
        </div>
      </section>

      <!-- Slide 3 -->
      <section>
        <div class="wrap">
            <h3 style="text-align:center"><b>The Setup </b>
              <p class="text-intro">Hur man skapar en redux app</p></h3>
          <div class="grid vertical-align">
            <div class="column">
              <p>1) Vi börjar med att skapa en node projekt:</p>
                  <pre>
mkdir redux-dux

npm init

 eller 

yarn init
</pre>
            </div>
            <div class="column">
              <p>2) Sen installerar vi redux modulen (npm eller yarn)</p>
              <pre>
npm install redux --save
npm i redux -S
npm i redux

yarn add redux --save
yarn add redux -S
</pre>
            </div>
          </div>
        </div>
      </section>
      <!--
  arrow
  <span>&rarr;</span>

  link
                    <svg class="fa-link">
                    <use xlink:href="#fa-link"></use>
                  </svg>

                                    <svg class="fa-clock-o">
                    <use xlink:href="#fa-clock-o"></use>
                  </svg>
                  Slide Counter
-->
      <section>
        <!--
const redux = require('redux');

// creating a store fn ref


// creating a Store
const store = createStore(rootReducer);

// logging the current state from the store(age)
console.log(store.getState());
// Reducer


// Dispatching Action


// Subscription


        -->
        <div class="wrap">
          <h2 class="content-center">I projektet skapar vi filen "Redux.js"</h2>
          <ul class="flexblock features">
            <li>
              <div>
                <p>
                 1) Eftersom vi enbart använder redux kommer vi använda 'ren' node syntax:
                </p>
                <br />
                <pre>const redux = require('redux');</pre>
              </div>
            </li>
            <li>
              <div>
                <p>
                  2) Skapa en redux store, Det är i store som vi sparar allt som sker i applicationen tänk 'storage'
                </p><br/>
                <pre>const createStore = redux.createStore;</pre>
              </div>
            </li>
            <li>
              <div>
                <p>
                3) Sen skapar vi en reducer:
                </p>
<br/>
<pre>
const rootReducer = (state, action) => {
 return state;
}

console.log(store.getState());
</pre>
<br/>
<p>                
  Praxis i redux är att kalla den primära reducern (om det finns en primär) 'rootReducer'
</p>
              </div>
            </li>
          <li>
              <div>
                <h2>State & action</h2>
                  <p>
                      State motsvarar en applikations nuvarande tillstånd.
                      Man kan jämnföra en Action i Redux med ett meddelande eller som en ringsignal:
                      actionen indikerar att någon ringer och vem som ringer, men innan man lyft på luren händer inget.
                      I Redux motsvarar action indikationen "detta kommer att hända"
                    </p>
                  </pre>
                </div>
          </li>
          <li>                
            <p>Då kan vi prova att köra applicationen:</p>
                <pre>node Redux.js</pre>
              </div>
            </li>
          </section>
  
      </section>
      <section>
        <div class="wrap">
          <h2 class="content-center"><strong>OMG INGET HÄNDE!!!</strong></h2>
          <ul class="flexblock gallery">
            <li>
                <h2  class="content-center">Varför hände inget?</h2>
              <a href="demos/why-webslides.html" title="Why WebSlides?">
                <figure>
                  <img alt="Thumbnail Why WebSlides?" src="https://i.imgflip.com/x1hiy.jpg">
                  <figcaption>

                    <p class="content-center">Jo för vi har inte gjort något som ska hända än, </p>
                  </figcaption>
                </figure>
              </a>
            </li>
            <li>

              <div>
                Vi har skapat en store (storage):
<pre>
const createStore = redux.createStore;
</pre><br/>
en reducer och en logger som visar vad som finns i store
<pre>
const rootReducer = (state, action) => {
     return state;
}

const store = createStore(rootReducer);

console.log(store.getState());
</pre><br/>
Men vi har ännu inte state ett initialt State, därav undefined
Så då skapar vi ett initalState 
<pre>
const initState = {
 counter: 0
}
</pre><br/>
Vilket vi gör över rootReducern i redux.js
där vi även definerar att state är lika med initState
<pre>
const rootReducer = (state = initState, action) => { 
</pre>
<br/>
Så om vi kör appen igen: 
<pre>
  node redux.js
</pre><br/>
Borde vi få tillbaka
<pre>
{ counter: 0 }
</pre>
              </div>
            </li>
          </ul>
        </div>
        <!-- .end .wrap -->
      </section>
      <section>
        <div class="wrap">
            <h2 class="content-center">Så vi tar och dispatchar några actions:</h2>
          <div class="grid vertical-align">
            <div>
              <p>Vilket börjar med att skapa dispatchers:</p>
              <pre>
store.dispatch({ type: 'INC_COUNTER' });

store.dispatch({ type: 'ADD_COUNTER', value: 10 });
              </pre>
              <p>'type:' är obligatoriskt i dispatchers och den enda actionen som har ett namn som måste användas
              detta innebär att i actionen 'ADD_COUNTER' är 'value' utbytbart mot vad som helst</p>
              </div>
<hr/>
              <div>
                <p>
                Själva förändringen utför vi i rootReducern, det är här vi svarar i telefonen. <br/>

                <!--
                 
      
      this is mutation the state which is the biggest no-no of redux
* Other ways to use dispatch
store.dispatch({type: 'ADD_COUNTER', value: 10, name: 'Joe', id: 123})
store.dispatch({type: 'ADD_COUNTER', payload:{value: 10, name: 'Joe', id: 123}})
Subscription

take a copy of the current state
and overwrite the value you want to change
like this
                -->
Så vad är det vi gör här egentligen?<br/>
Vi en kopia av det nuvarande statet = ...state<br/>
och sen modifierar vi kopian genom att lägga till<br/>
counter: state.counter + 1
</p>
<pre>
const rootReducer = (state = initState, action) => {
  if (action.type === 'INC_COUNTER') {
    return {
        ...state,
        counter: state.counter + 1
    }
  }
  if (action.type === 'ADD_COUNTER') {
  return {
        ...state,
        counter: state.counter + action.value
    }
  }
return state;
}
const store = createStore(rootReducer);
</pre>
<p>I Redux finns det 1 primär regel: <br/>
  ALDRIG NÅGONSIN MODIFIERA ORGINAL STATE!!!<br/>
  <b>Detta</b>
  </p>
  <pre>        
    ...state,
    counter: state.counter + 1
      mot 
    state.counter++
</pre><p>
  Är förbjudet och det pajar hela reduxs grundprincip och applikationens flöde
  </p>
</div>
<div class="column">
<!--<h3 class=" content-center">Såhär ska Redux.js numera se ut:</h3>
<pre>    
const redux = require('redux');
const createStore = redux.createStore;

  const initState = {
    counter: 0
}

  const rootReducer = (state = initState, action) => {
  if (action.type === 'INC_COUNTER') {
    return {
      ...state,
      counter: state.counter + 1
    }
  }
  if (action.type === 'ADD_COUNTER') {
    return {
      ...state,
      counter: state.counter + action.value
    }
  }
  return state;
}
const store = createStore(rootReducer);

// Dispatching actions
store.dispatch({ type: 'INC_COUNTER' });
store.dispatch({ type: 'ADD_COUNTER', value: 10 });

console.log(store.getState()); 
              </pre>-->
              </div>
              </ul>
            </div>
          <!--end .grid -->
        </div>
      </section>
      <section class="aligncenter">
        <!-- .wrap = container (width: 90%) -->
        <div class="wrap">
            <div class="column">
          <h2 class="content-center">Subscriptions</h2>
          
              <p>
                  Subscription är det appen använder istället för exempelvis console.log.
                  Subscriptions används för att informera appen om vad som händer och har hänt<br/>
                  Subscribe tar en funktion som argument och ska placeras precis efter store för att undvika eventuella sidoeffekter
                  i reduxs flöde.
            </p>
<pre>
store.subscribe(store.getState())
</pre>
            <p>Men om man vill eller behöver lägga in mer functioner i en subscription<br/>
              kan också göras såhär:</p>
            <pre>
store.subscribe(() => {
  function 1) console.log('Subscription:', store.getState());
  function 2) alert('Hello from subscribe')
})    
</pre>
</div><br/>
    <div class="column">
<p>Såhär blev vår färdiga endast redux applikation</p>
<pre>
const redux = require('redux');
const createStore = redux.createStore;

const initState = {
   counter: 0
}

const rootReducer = (state = initState, action) => {
   if (action.type === 'INC_COUNTER') {
      return {
         ...state,
         counter: state.counter + 1
      }
   }
   if (action.type === 'ADD_COUNTER') {
      return {
         ...state,
         counter: state.counter + action.value
      }
   }
   return state;
}

const store = createStore(rootReducer);

store.dispatch({ type: 'INC_COUNTER' });
store.dispatch({ type: 'ADD_COUNTER', value: 10 });

console.log(store.getState(), 'hey from console.log'); 
</pre>
        </div>
</div>
        <!-- .end .wrap -->
      </section>

      <section class="slide-bottom">
        <div class="wrap">

                <h2 style="text-align:centerq">Det var Redux slutet av denna intro till Redux och numera känner ni till alla grundkoncepten i Redux</h2>
              <img alt="Thumbnail Why WebSlides?" src="https://media.giphy.com/media/qIXVd1RoKGqlO/giphy.gif" style="width:100%; height: auto">
         <p>Koden för denna förläsning finns tillgäng på:
          https://github.com/KarmaLimited/Redux-dux
        </p> 
              <!-- .end .content-right -->
        </div>
        <!-- .end .wrap -->
      </section>

    </article>
  </main>

  <!-- Required -->
  <script src="static/js/webslides.js"></script>
  <script>
    window.ws = new WebSlides();
  </script>

  <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
  <script defer src="static/js/svg-icons.js"></script>

</body>

</html>
